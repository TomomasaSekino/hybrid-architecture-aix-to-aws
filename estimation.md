# Estimation Model  
## AIX（PowerVM）→ AWS 移行 概算工数モデル

本ドキュメントは、IBM PowerVM（AIX）環境からAWSへの段階的移行における **初期概算工数算出モデル** を定義します。  
本モデルは提案初期段階での規模感合わせを目的とし、PoC実施後に再見積もりを行う前提です。

---

# 1. 想定前提
- AIX LPAR：2〜4台規模
- SANブート構成
- PowerHAあり（Active-Standby）も想定
- データ容量：数百GB〜数十TB〜100TB規模までを想定（※下記のとおり **10TBを1ユニット** として扱う）
- 停止制約あり（計画停止のみ）

---

# 2. 入力パラメータ定義
| 変数 | 意味 |
|------|------|
| N_LPAR | 対象LPAR数 |
| N_APP | 対象アプリケーション数 |
| N_MW | 主要ミドルウェア数 |
| DB_TB | データ容量（TB） |
| HA | PowerHA相当の可用性要件（0=なし, 1=あり） |
| IF | 外部I/F本数 |
| SEC | 統制・監査強度（1=標準, 2=厳格） |
| PERF | 性能要件（1=標準, 2=高性能） |
| RISK | リスク係数（0.8/1.0/1.2/1.5） |

---

# 3. データ容量の扱い（重要）
データ容量は人の工数に比例しにくく、線形モデルだと過大見積もりになりがちです。  
本モデルでは、**10TBを1ユニット**として換算し、データ要因を次式で評価します。

```
DB_UNIT = ceil(DB_TB / 10)
```

例：
- 1.5TB → DB_UNIT=1
- 10TB → DB_UNIT=1
- 100TB → DB_UNIT=10

---

# 4. Phase 1：ハイブリッド化 概算式（人日）
```
MD_P1 = B_P1
      + a1 * max(0, N_LPAR - 2)
      + a2 * N_MW
      + a3 * DB_UNIT
      + a4 * IF
      + a5 * (SEC - 1)
```
推奨初期係数：
- B_P1=25, a1=4, a2=2, a3=3, a4=0.5, a5=5

---

# 5. Phase 2：クラウドシフト 概算式（人日）
```
MD_P2 = B_P2
      + b1 * N_APP
      + b2 * N_MW
      + b3 * DB_UNIT
      + b4 * IF
      + b5 * HA
      + b6 * (SEC - 1)
      + b7 * (PERF - 1)
      + b8 * max(0, N_LPAR - 2)
```
推奨初期係数：
- B_P2=60, b1=15, b2=8, b3=6, b4=1.0, b5=20, b6=10, b7=15, b8=5

---

# 6. 合計工数
```
MD_TOTAL = MD_P1 + MD_P2
```

---

# 7. 計算例（100TBでも“爆発しない”ことの確認）
前提：N_LPAR=2, N_APP=2, N_MW=2, DB_TB=100, HA=0, IF=10, SEC=1, PERF=1, RISK=1.0

- DB_UNIT = ceil(100/10)=10

Phase1のデータ要因：a3*DB_UNIT = 3*10 = 30人日  
Phase2のデータ要因：b3*DB_UNIT = 6*10 = 60人日

→ データ容量が大きくても、工数が容量に線形比例して過大に膨らまないよう調整しています。

---

# 8. 注意事項
- 本モデルは初期概算用です（契約上の保証値ではありません）
- Phase2はPoC結果により大きく変動します（互換性・性能・外部I/Fで変動）
- 大規模（LPAR>5、TB>200等）や特殊要件（暗号化・大量LOB・厳格な整合性検証）は別途モデル推奨
